{"version":3,"sources":["images/Moralis.png","components/Coin.js","about.js","App.js","reportWebVitals.js","index.js"],"names":["Coin","perc","token","setPerc","setModalToken","setVisible","useState","color","setColor","contractProcessor","useWeb3ExecuteFunction","isAuthenticated","useMoralis","vote","upDown","a","options","contractAddress","functionName","abi","inputs","internalType","name","type","outputs","stateMutability","params","_ticker","_vote","fetch","onSuccess","console","log","onError","error","alert","data","message","useEffect","className","style","boxShadow","marginTop","backgroundColor","onClick","text","theme","abouts","address","about","App","btc","setBtc","eth","setEth","link","setLink","visible","modalToken","modalPrice","setModalPrice","Moralis","isInitialized","web3Api","useMoralisWeb3Api","getRatio","tick","Votes","Object","extend","query","Query","equalTo","descending","first","results","up","Number","attributes","down","ratio","Math","round","createLiveQuery","subscribe","on","object","ticker","findIndex","x","getTokenPrice","price","usdPrice","toFixed","fetchTokenPrice","src","logo","alt","height","isVisible","onCloseButtonPressed","hasFooter","title","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","appId","serverUrl","document","getElementById"],"mappings":"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","file":"static/js/main.a1c12200.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Moralis.692d2ad7.png\";","import React, { useEffect, useState } from 'react'\nimport './Coin.css'\nimport { Button } from 'web3uikit'\nimport { useWeb3ExecuteFunction, useMoralis } from 'react-moralis'\n\nfunction Coin({ perc, setPerc, token, setModalToken, setVisible }) {\n  const [color, setColor] = useState()\n  const contractProcessor = useWeb3ExecuteFunction()\n  const { isAuthenticated } = useMoralis()\n\n  useEffect(() => {\n    if (perc < 50) {\n      setColor('#c43d08')\n    } else {\n      setColor('green')\n    }\n  }, [perc])\n\n  async function vote(upDown) {\n    let options = {\n      contractAddress: '0xE0999E5f5dbF69Ee22dCaCaF012977cB49a118E7',\n      functionName: 'vote',\n      abi: [\n        {\n          inputs: [\n            { internalType: 'string', name: '_ticker', type: 'string' },\n            { internalType: 'bool', name: '_vote', type: 'bool' },\n          ],\n          name: 'vote',\n          outputs: [],\n          stateMutability: 'nonpayable',\n          type: 'function',\n        },\n      ],\n      params: {\n        _ticker: token,\n        _vote: upDown,\n      },\n    }\n\n    await contractProcessor.fetch({\n      params: options,\n      onSuccess: () => {\n        console.log('vote succesful')\n      },\n      onError: (error) => {\n        alert(error.data.message)\n      },\n    })\n  }\n\n  return (\n    <>\n      <div>\n        <div className=\"token\">{token}</div>\n        <div\n          className=\"circle\"\n          style={{\n            boxShadow: `0 0 20px ${color}`,\n          }}\n        >\n          <div\n            className=\"wave\"\n            style={{\n              marginTop: `${100 - perc}%`,\n              boxShadow: `0 0 20px ${color}`,\n              backgroundColor: color,\n            }}\n          ></div>\n          <div className=\"percentage\">{perc}%</div>\n        </div>\n\n        \n        <div className=\"votes\">\n          <Button\n            onClick={() => {\n              if (isAuthenticated) {\n                vote(true)\n              } else {\n                alert('Authenticate to Vote!')\n              }\n            }}\n            text=\"Up\"\n            theme=\"primary\"\n            type=\"button\"\n          />\n          <Button\n            onClick={() => {\n              if (isAuthenticated) {\n                vote(false)\n              } else {\n                alert('Authenticate to Vote!')\n              }\n            }}\n            text=\"Down\"\n            theme=\"colored\"\n            type=\"button\"\n          />\n        </div>\n\n        <div className=\"votes\">\n          <Button\n            onClick={() => {\n              setModalToken(token)\n              setVisible(true)\n            }}\n            text=\"INFO\"\n            theme=\"translucent\"\n            type=\"button\"\n          />\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Coin\n","export const abouts = [\n  {\n    token: \"BTC\",\n    address: \"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599\",\n    about:\n      \"Bitcoin is a decentralized cryptocurrency originally described in a 2008 whitepaper by a person, or group of people, using the alias Satoshi Nakamoto. It was launched soon after, in January 2009. Bitcoin is a peer-to-peer online currency, meaning that all transactions happen directly between equal, independent network participants, without the need for any intermediary to permit or facilitate them. Bitcoin was created, according to Nakamoto’s own words, to allow “online payments to be sent directly from one party to another without going through a financial institution.” Some concepts for a similar type of a decentralized electronic currency precede BTC, but Bitcoin holds the distinction of being the first-ever cryptocurrency to come into actual use.\",\n  },\n  {\n    token: \"ETH\",\n    address: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\n    about:\n      \"Ethereum is a decentralized open-source blockchain system that features its own cryptocurrency, Ether. ETH works as a platform for numerous other cryptocurrencies, as well as for the execution of decentralized smart contracts. Ethereum was first described in a 2013 whitepaper by Vitalik Buterin. Buterin, along with other co-founders, secured funding for the project in an online public crowd sale in the summer of 2014. The project team managed to raise $18.3 million in Bitcoin, and Ethereum’s price in the Initial Coin Offering (ICO) was $0.311, with over 60 million Ether sold. Taking Ethereum’s price now, this puts the return on investment (ROI) at an annualized rate of over 270%, essentially almost quadrupling your investment every year since the summer of 2014.\",\n  },\n  {\n    token: \"LINK\",\n    address: \"0x514910771AF9Ca656af840dff83E8264EcF986CA\",\n    about:\n      \"Founded in 2017, Chainlink is a blockchain abstraction layer that enables universally connected smart contracts. Through a decentralized oracle network, Chainlink allows blockchains to securely interact with external data feeds, events and payment methods, providing the critical off-chain information needed by complex smart contracts to become the dominant form of digital agreement. The Chainlink Network is driven by a large open-source community of data providers, node operators, smart contract developers, researchers, security auditors and more. The company focuses on ensuring that decentralized participation is guaranteed for all node operators and users looking to contribute to the network.\",\n  },\n];\n","import React, { useEffect, useState } from 'react'\nimport './App.css'\nimport { ConnectButton, Modal } from 'web3uikit'\nimport logo from './images/Moralis.png'\nimport Coin from './components/Coin'\nimport { abouts } from './about'\nimport { useMoralisWeb3Api, useMoralis } from 'react-moralis'\n\nconst App = () => {\n  const [btc, setBtc] = useState(80)\n  const [eth, setEth] = useState(30)\n  const [link, setLink] = useState(60)\n  const [visible, setVisible] = useState(false)\n  const [modalToken, setModalToken] = useState()\n  const [modalPrice, setModalPrice] = useState()\n  const { Moralis, isInitialized } = useMoralis()\n  const web3Api = useMoralisWeb3Api()\n\n  async function getRatio(tick, setPerc) {\n    const Votes = Moralis.Object.extend('Votes')\n    const query = new Moralis.Query(Votes)\n    query.equalTo('ticker', tick)\n    query.descending('createdAt')\n    const results = await query.first()\n    let up = Number(results.attributes.up)\n    let down = Number(results.attributes.down)\n    let ratio = Math.round((up / (up + down)) * 100)\n    setPerc(ratio)\n  }\n\n  useEffect(() => {\n    if (isInitialized) {\n      getRatio('BTC', setBtc)\n      getRatio('ETH', setEth)\n      getRatio('LINK', setLink)\n\n      async function createLiveQuery() {\n        // queries Vote class & creates a subscription on any oralis rows update. Then gets an obj to check if the update is on ETH, LINK, or BTC\n        let query = new Moralis.Query('Votes')\n        let subscription = await query.subscribe()\n        subscription.on('update', (object) => {\n          if (object.attributes.ticker === 'LINK') {\n            getRatio('LINK', setLink)\n          } else if (object.attributes.ticker === 'ETH') {\n            getRatio('ETH', setEth)\n          } else if (object.attributes.ticker === 'BTC') {\n            getRatio('BTC', setBtc)\n          }\n        })\n      }\n      createLiveQuery()\n    }\n  }, [isInitialized])\n\n  useEffect(() => {\n    async function fetchTokenPrice() {\n      const options = {\n        address:\n          abouts[abouts.findIndex((x) => x.token === modalToken)].address,\n      }\n      const price = await web3Api.token.getTokenPrice(options)\n      setModalPrice(price.usdPrice.toFixed(2))\n    }\n    if (modalToken) {\n      fetchTokenPrice()\n    }\n  }, [modalToken])\n\n  return (\n    <>\n      <div className=\"header\">\n        <div className=\"logo\">\n          <img src={logo} alt=\"logo\" height=\"50px\" />\n          Sentiment\n        </div>\n        <ConnectButton />\n      </div>\n      <div className=\"instructions\">\n        Where do you think these tokens are going? Up or Down?\n      </div>\n\n      <div className=\"list\">\n        <Coin\n          perc={btc}\n          setPerc={setBtc}\n          token={'BTC'}\n          setModalToken={setModalToken}\n          setVisible={setVisible}\n        />\n        <Coin\n          perc={eth}\n          setPerc={setEth}\n          token={'ETH'}\n          setModalToken={setModalToken}\n          setVisible={setVisible}\n        />\n        <Coin\n          perc={link}\n          setPerc={setLink}\n          token={'LINK'}\n          setModalToken={setModalToken}\n          setVisible={setVisible}\n        />\n      </div>\n\n      <Modal\n        isVisible={visible}\n        onCloseButtonPressed={() => {\n          setVisible(false)\n        }}\n        hasFooter={false}\n        title={modalToken}\n      >\n        <div>\n          <span style={{ color: 'white' }}> {`Price: `}</span>${modalPrice}\n        </div>\n        <div>\n          <span style={{ color: 'white' }}>{`About`}</span>\n        </div>\n        <div>\n          {modalToken &&\n            abouts[abouts.findIndex((x) => x.token === modalToken)].about}\n        </div>\n      </Modal>\n    </>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { MoralisProvider } from \"react-moralis\";\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <MoralisProvider appId=\"tvuKpIvvmAanBESDKFtIwLYvfB3pPhsOJwZcfDjq\" serverUrl=\"https://kvyuntqeyjzz.usemoralis.com:2053/server\">\n          <App />\n    </MoralisProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}